release {
    versionPropertyFile = 'version.properties'
    buildTasks = []
    git {
        requireBranch = /master/
        pushToCurrentBranch=true
    }
}

task loadVersionProps() {
    logger.lifecycle path + " Loading project version from version.properties file"
    file("${rootProject.projectDir}/version.properties").withInputStream {
        stream ->
            def props = new Properties()
            props.load(stream)
            props.each { key, val -> project.setProperty(key, val) }
    }
    logger.lifecycle path + " Loaded project version: " + project.version
}

